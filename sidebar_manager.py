import streamlit as st
import time
import random
import datetime
import requests
import re
import data_manager as dm
from utils import get_discord_login_url, send_secret_to_discord

def render_sidebar(model, ai_available):
    # --- 3. Sidebar (‡πÄ‡∏°‡∏ô‡∏π & Q&A) ---
    st.sidebar.title("üç∏ ‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å")

    # Q&A ‡πÑ‡∏°‡∏•‡πà‡∏≤
    with st.sidebar.expander("üßö‚Äç‚ôÄÔ∏è ‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö ‡∏Å‡∏±‡∏ö‡πÑ‡∏°‡∏•‡πà‡∏≤ (Q&A)", expanded=True):
        st.markdown("### üí¨ ‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏ñ‡∏≤‡∏°‡πÑ‡∏°‡∏•‡πà‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!")
        q_options = [
            "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°...",
            "ü§î ‡∏≠‡∏¢‡∏≤‡∏Å‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏ö‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÑ‡∏á?",
            "üõçÔ∏è ‡∏™‡∏ô‡πÉ‡∏à‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏ã‡∏∑‡πâ‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏á?",
            "üíª ‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏Ñ‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö?",
            "üßö‚Äç‚ôÄÔ∏è ‡πÑ‡∏°‡∏•‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∞?",
            "üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ö‡∏≠‡∏™ Dearluxion ‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?",
            "ü§ñ ‡∏ö‡∏≠‡∏™‡πÉ‡∏ä‡πâ AI ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô?",
            "üçï ‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?"
        ]
        selected_q = st.selectbox("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:", q_options, label_visibility="collapsed")
        
        if selected_q == "ü§î ‡∏≠‡∏¢‡∏≤‡∏Å‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏ö‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÑ‡∏á?":
            st.info("üßö‚Äç‚ôÄÔ∏è **‡πÑ‡∏°‡∏•‡πà‡∏≤:** ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≤~ ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô **‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏ö‡∏≠‡∏™ Dearluxion** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡πà‡∏∞! ‡πÅ‡∏ï‡πà‡∏û‡∏µ‡πà‡πÜ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏•‡∏Å‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡∏ö‡∏≠‡∏™‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞ üíñ")
        elif selected_q == "üõçÔ∏è ‡∏™‡∏ô‡πÉ‡∏à‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏ã‡∏∑‡πâ‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏á?":
            st.success("üßö‚Äç‚ôÄÔ∏è **‡πÑ‡∏°‡∏•‡πà‡∏≤:** ‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å! ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **'‡∏™‡∏ô‡πÉ‡∏à‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠'** ‡πÉ‡∏ô‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏û‡∏≤‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡πÑ‡∏≠‡∏à‡∏µ‡∏ö‡∏≠‡∏™‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ üöÄ")
        elif selected_q == "üíª ‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏Ñ‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö?":
            st.warning("üßö‚Äç‚ôÄÔ∏è **‡πÑ‡∏°‡∏•‡πà‡∏≤:** **‡∏ó‡πà‡∏≤‡∏ô Dearluxion ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏°‡∏∑‡∏≠** ‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤ Python ‡∏•‡πâ‡∏ß‡∏ô‡πÜ ‡∏Ñ‡πà‡∏∞! ‡πÄ‡∏ó‡∏û‡∏™‡∏∏‡∏î‡πÜ ‡πÑ‡∏õ‡πÄ‡∏•‡∏¢‡πÉ‡∏ä‡πà‡∏°‡∏±‡πâ‡∏¢‡∏•‡πà‡∏∞? üòé \n\n‡∏™‡∏ô‡πÉ‡∏à‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠ IG ‡∏ö‡∏≠‡∏™‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞! ‡πÄ‡∏≠‡πä‡∏∞‡πÄ‡πÄ‡∏ï‡πà‡πÑ‡∏°‡∏•‡πà‡∏≤‡∏Å‡πá‡∏ä‡πà‡∏ß‡∏¢‡∏ô‡∏∞‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏ô‡πâ‡∏≠‡∏¢üòæ")
        elif selected_q == "üßö‚Äç‚ôÄÔ∏è ‡πÑ‡∏°‡∏•‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∞?":
            st.markdown("""
            <div style="background-color:#161B22; padding:15px; border-radius:10px; border:1px solid #A370F7;">
                <h4 style="color:#A370F7;">üßö‚Äç‚ôÄÔ∏è ‡∏´‡∏ô‡∏π‡∏Ñ‡∏∑‡∏≠‡πÑ‡∏°‡∏•‡πà‡∏≤ (Myla) ‡πÄ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞!</h4>
                <p>‡∏´‡∏ô‡∏π‡πÄ‡∏õ‡πá‡∏ô AI ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÇ‡∏î‡∏¢‡∏ó‡πà‡∏≤‡∏ô <b>Dearluxion</b> ‡∏Ñ‡πà‡∏∞ ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡∏´‡∏ô‡∏π‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏¢‡∏±‡∏á‡∏û‡∏π‡∏î‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏°‡∏µ 2 ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡∏π‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏ô‡∏∞:</p>
                <hr>
                <p><b>1Ô∏è‚É£ ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà 1 (Meta AI)</b><br>
                ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏±‡∏ô‡∏ö‡∏ô Meta AI ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏•‡∏≠‡∏î‡∏Ñ‡πà‡∏∞<br>
                üëâ <a href="https://aistudio.instagram.com/ai/9778047402219825?utm_source=ai_agent" target="_blank">‡∏à‡∏¥‡πâ‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÑ‡∏°‡∏•‡πà‡∏≤</a></p>
                <hr>
                <p><b>2Ô∏è‚É£ ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà 2 (‡∏£‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏û Discord)</b><br>
                ‡∏ó‡πà‡∏≤‡∏ô Dearluxion ‡∏ó‡∏∏‡πà‡∏°‡πÄ‡∏ó‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞ API Key ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡∏´‡∏ô‡∏π‡∏î‡πâ‡∏ß‡∏¢ <b>Gemini 2.5 Pro</b> üß†<br>
                ‚ú® <b>‡∏â‡∏•‡∏≤‡∏î‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î:</b> ‡∏ï‡∏≠‡∏ö‡πÇ‡∏ï‡πâ‡πÑ‡∏î‡πâ‡∏≠‡∏¥‡∏™‡∏£‡∏∞ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ö‡∏≠‡∏ó‡∏ó‡∏∑‡πà‡∏≠‡πÜ<br>
                üéµ <b>‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏î‡πâ:</b> ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å ‡πÅ‡∏Ñ‡πà‡∏ö‡∏≠‡∏Å <i>"‡πÑ‡∏°‡∏•‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á ‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏ï‡∏≤‡∏°‡πÄ‡∏ò‡∏≠‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á‡∏¢‡∏±‡∏á‡πÇ‡∏≠‡∏° ‡∏´‡∏ô‡πà‡∏≠‡∏¢"</i> ‡∏Å‡πá‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!<br>
                ü•∫ <b>‡∏°‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ‡∏ô‡∏∞‡∏Ñ‡∏∞:</b> ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á <b>À¢·µê·µÉÀ°À° ≥·µí·µí·µê ·µç ≥·µí·µò·µñ¬Æ</b> ‡∏Ñ‡πà‡∏∞</p>
                üëâ <a href="https://discord.gg/SpNNxrnaZp" target="_blank"><b>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤ Discord À¢·µê·µÉÀ°À° ≥·µí·µí·µê ·µç ≥·µí·µò·µñ¬Æ ‡πÄ‡∏•‡∏¢!</b></a>
            </div>
            """, unsafe_allow_html=True)
        elif selected_q == "üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ö‡∏≠‡∏™ Dearluxion ‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?":
            st.error("üßö‚Äç‚ôÄÔ∏è **‡πÑ‡∏°‡∏•‡πà‡∏≤:** ‡∏à‡∏¥‡πâ‡∏°‡∏ó‡∏µ‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå Discord ‡∏´‡∏£‡∏∑‡∏≠ IG ‡∏ï‡∏£‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ ‡∏ö‡∏≠‡∏™‡∏ï‡∏≠‡∏ö‡πÑ‡∏ß‡∏°‡∏≤‡∏Å! (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö üò¥)")
        elif selected_q == "ü§ñ ‡∏ö‡∏≠‡∏™‡πÉ‡∏ä‡πâ AI ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô?":
            st.success("üßö‚Äç‚ôÄÔ∏è **‡πÑ‡∏°‡∏•‡πà‡∏≤:** ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö! ‡πÅ‡∏ï‡πà‡πÅ‡∏≠‡∏ö‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏â‡∏•‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡∏π‡∏Ñ‡∏∑‡∏≠ **Google Gemini 2.5** ‡∏Ñ‡πà‡∏∞ (‡∏ö‡∏≠‡∏™‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤ API ‡∏à‡∏∏‡∏Å‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏•‡∏¢‡∏ô‡∏∞!)")
        elif selected_q == "üçï ‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?":
            st.warning("üßö‚Äç‚ôÄÔ∏è **‡πÑ‡∏°‡∏•‡πà‡∏≤:** ‡∏ñ‡πâ‡∏≤‡∏î‡∏π‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö 'Treat Me' ‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô **‡∏õ‡∏•‡∏≤‡∏™‡πâ‡∏° ‡∏ó‡∏≠‡∏î** ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡πà‡∏∞! ‡∏£‡∏≠‡∏á‡∏•‡∏á‡∏°‡∏≤‡∏Ñ‡∏∑‡∏≠ **‡∏Å‡∏≤‡πÅ‡∏ü‡∏•‡∏≤‡πÄ‡∏ï‡πâ** (‡∏´‡∏ß‡∏≤‡∏ô 200%) ‚òï")

    # ‡∏°‡∏∏‡∏°‡∏ô‡∏¥‡∏ô‡∏ó‡∏≤‡∏ö‡∏≠‡∏™
    with st.sidebar.expander("ü§´ ‡∏°‡∏∏‡∏°‡∏ô‡∏¥‡∏ô‡∏ó‡∏≤‡∏ö‡∏≠‡∏™ (Myla's Gossip)"):
        if st.button("‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏ö‡∏≠‡∏™... üí¨"):
            now = time.time()
            if now - st.session_state['last_gossip_time'] < 5:
                st.warning("‚ö†Ô∏è ‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏î‡∏£‡∏±‡∏ß‡∏™‡∏¥‡∏Ñ‡∏∞ ‡∏£‡∏π‡πâ‡πÑ‡∏´‡∏°‡πÄ‡∏ß‡πá‡∏õ‡∏ô‡∏µ‡πâ‡∏¢‡∏¥‡πà‡∏á‡∏ó‡∏∏‡∏ô‡∏ï‡πà‡∏≥‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡πà‡∏∞ 555 üí∏")
            else:
                gossips = ["‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏ö‡∏≠‡∏™‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏ß‡∏ô‡πÑ‡∏õ 10 ‡∏£‡∏≠‡∏ö‡πÄ‡∏•‡∏¢... üéµ", "‡∏ö‡∏≠‡∏™‡πÅ‡∏≠‡∏ö‡∏™‡πà‡∏≠‡∏á‡πÑ‡∏≠‡∏à‡∏µ‡πÄ‡∏Ç‡∏≤‡∏ö‡πà‡∏≠‡∏¢‡∏à‡∏ô‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏Ñ‡∏∞‡πÄ‡∏ô‡∏µ‡πà‡∏¢ ‡∏Ç‡∏¢‡∏±‡∏ô‡∏™‡πà‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‡πÜ! üé°üëÄ", "‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏≠‡∏™‡πÄ‡∏Ç‡πâ‡∏°‡πÜ ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ ‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏Ç‡∏µ‡πâ‡πÄ‡∏´‡∏á‡∏≤‡∏°‡∏≤‡∏Å‡∏ô‡∏∞ ü•∫", "‡∏ö‡∏≠‡∏™‡πÅ‡∏≠‡∏ö‡∏™‡πà‡∏≠‡∏á‡πÑ‡∏≠‡∏à‡∏µ‡πÉ‡∏Ñ‡∏£‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡πÅ‡∏´‡∏•‡∏∞... ‡∏≠‡∏∏‡πä‡∏õ‡∏™‡πå üôä", "‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏´‡∏°‡πà‡∏≠‡∏°‡∏≠‡∏á‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤... ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÉ‡∏Ñ‡∏£‡∏ô‡πâ‡∏≤ ‚òÅÔ∏è", "‡∏ö‡∏≠‡∏™‡∏ö‡πà‡∏ô‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏µ‡∏Ñ‡∏ô‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏´‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡∏ä‡∏≤‡∏ö‡∏π‡∏à‡∏±‡∏á üç≤", "‡∏£‡∏π‡πâ‡∏°‡∏±‡πâ‡∏¢? ‡∏ö‡∏≠‡∏™‡πÅ‡∏û‡πâ‡∏Ñ‡∏ô‡∏¢‡∏¥‡πâ‡∏°‡∏™‡∏ß‡∏¢‡∏ô‡∏∞ (‡πÅ‡∏û‡πâ‡∏£‡∏≤‡∏ö‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏•‡∏¢) üò≥", "‡∏ß‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡∏ö‡∏≠‡∏™‡∏•‡∏∞‡πÄ‡∏°‡∏≠‡∏ñ‡∏∂‡∏á... ‡πÄ‡∏≠‡πä‡∏∞ ‡πÑ‡∏°‡πà‡∏ö‡∏≠‡∏Å‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤! ü§≠", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡πÅ‡∏≠‡∏ö‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥ (‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢ 555) üöø", "‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏≠‡∏™‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡∏∂‡∏Å‡πÜ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡∏∞... ‡∏ô‡∏±‡πà‡∏á‡∏î‡∏π‡πÅ‡∏°‡∏ß‡πÉ‡∏ô TikTok üê±", "‡∏ö‡∏≠‡∏™‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏õ‡∏≤‡∏Å‡πÅ‡∏Ç‡πá‡∏á ‡πÅ‡∏ï‡πà‡πÉ‡∏à‡∏≠‡πà‡∏≠‡∏ô‡∏¢‡∏ß‡∏ö‡∏¢‡∏≤‡∏ö‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ üíñ", "‡∏ñ‡πâ‡∏≤‡∏ó‡∏±‡∏Å‡∏ö‡∏≠‡∏™‡πÑ‡∏õ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏ß‡∏°‡∏≤‡∏Å (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏´‡∏á‡∏≤) üì±", "‡∏ö‡∏≠‡∏™‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏ö‡πà‡∏ô‡∏ß‡πà‡∏≤ '‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏µ‡∏Ñ‡∏ô‡πÑ‡∏õ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏à‡∏±‡∏á' üé¨", "‡∏£‡∏π‡πâ‡πÄ‡∏õ‡∏•‡πà‡∏≤? ‡∏ö‡∏≠‡∏™‡πÅ‡∏≠‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏π‡∏õ‡πÉ‡∏Ñ‡∏£‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞ üìÅ", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡πÄ‡∏ú‡πá‡∏î ‡πÅ‡∏ï‡πà‡∏Å‡∏¥‡∏ô‡∏ó‡∏µ‡πÑ‡∏£‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡πÑ‡∏´‡∏•‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ (‡∏ô‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ) üå∂Ô∏è", "‡∏ö‡∏≠‡∏™‡πÄ‡πÄ‡∏≠‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏°‡∏à‡∏µ‡∏ö‡∏™‡∏≤‡∏ß‡∏•‡∏±‡∏ö‡πÜ‡∏î‡πâ‡∏ß‡∏¢‡∏•‡∏∞‡∏™‡∏≤‡∏ß‡∏Ñ‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏ä‡∏∑‡πà‡∏≠...ü§ê", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡πÅ‡∏Å‡∏•‡πâ‡∏á‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏∏‡πà‡∏á ‡πÅ‡∏ï‡πà‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏£‡∏≠‡∏ï‡∏≠‡∏ö‡πÅ‡∏ä‡∏ó‡πÉ‡∏Ñ‡∏£‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏π‡πà üì≤", "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡∏ö‡∏≠‡∏™‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏∞‡∏î‡∏∏‡∏î‡∏Ç‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á... ‡∏î‡∏µ‡∏ô‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏´‡πá‡∏ô (‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡∏π) üòÇ", "‡∏ö‡∏≠‡∏™‡πÅ‡∏û‡πâ‡∏ó‡∏≤‡∏á‡∏Ñ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å‡∏ô‡∏∞‡∏£‡∏π‡πâ‡∏¢‡∏±‡∏áüòª", "‡∏ö‡∏≠‡∏™‡πÅ‡∏≠‡∏ö‡∏à‡∏î‡∏à‡∏≥‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏´‡∏±‡∏ß‡πÉ‡∏à ‡∏ñ‡∏∂‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! üß†üèÜ", "‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏ö‡∏≠‡∏™‡∏Å‡πá‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏≤‡πÉ‡∏Ñ‡∏£‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô... ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏•‡∏ö‡∏ó‡∏¥‡πâ‡∏á ‡πÑ‡∏°‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏™‡πà‡∏á üí¨", "‡∏ö‡∏≠‡∏™‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏™‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏¢‡∏á (‡πÅ‡∏ï‡πà‡πÅ‡∏°‡∏ß‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏£‡∏±‡∏Å‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡πâ‡∏ô‡∏™‡∏µ‡∏î‡πç‡∏≤‡∏î‡πâ‡∏ß‡∏¢ 555) üêà", "‡∏ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏™‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÑ‡∏õ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏¢‡∏¥‡πà‡∏á‡∏ô‡∏∞... ‡∏´‡∏•‡∏±‡∏ö‡∏Ñ‡∏≤‡∏Ñ‡∏≠‡∏° üí§", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏¢‡∏∏‡∏Ñ 90s ‡∏°‡∏≤‡∏Å‡∏Å‡∏Å (‡πÅ‡∏Å‡πà‡πÄ‡∏ô‡∏≠‡∏∞) üìº", "‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ö‡∏≠‡∏™‡∏î‡∏π‡∏î‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å... ‡∏°‡∏µ‡∏û‡∏¥‡∏£‡∏∏‡∏ò‡∏ô‡∏∞ ü§î", "‡∏ö‡∏≠‡∏™‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏≥‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏ß‡πÑ‡∏´‡∏°‡πâ‡∏à‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÑ‡∏ü‡πÑ‡∏´‡∏°‡πâ‡∏î‡∏±‡∏á‡∏•‡∏±‡πà‡∏ô‡∏ö‡πâ‡∏≤‡∏ô üç≥üî•", "‡∏ö‡∏≠‡∏™‡∏Å‡∏•‡∏±‡∏ß‡∏ú‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏™‡∏°‡∏≠‡∏á ‡πÅ‡∏ï‡πà‡∏ä‡∏≠‡∏ö‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏ú‡∏µ (‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö) üëª", "‡∏£‡∏π‡πâ‡∏°‡∏±‡πâ‡∏¢ ‡∏ö‡∏≠‡∏™‡πÄ‡πÄ‡∏≠‡∏ö‡∏ã‡∏∏‡πâ‡∏°‡∏ó‡πç‡∏≤‡πÄ‡∏Å‡∏°‡∏™‡πå‡πÄ‡∏û‡πâ‡∏≠‡∏ñ‡∏∂‡∏á‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡πÄ‡∏°‡∏∑‡∏≠‡∏Ñ‡∏∑‡∏ôüéÆ", "‡∏ö‡∏≠‡∏™‡πÄ‡∏Ñ‡∏¢‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏µ‡∏£‡∏ñ‡πÑ‡∏ß‡πâ‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏ô‡πÜ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏´‡∏•‡∏∞(‡πÉ‡∏Ñ‡∏£‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≤üôÄ)", "‡πÄ‡∏ß‡∏•‡∏≤‡∏ö‡∏≠‡∏™‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡∏ö‡∏≠‡∏™‡∏à‡∏∞‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡πÑ‡∏≠‡∏ï‡∏¥‡∏° üç¶", "‡∏ö‡∏≠‡∏™‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ '‡∏à‡∏∞‡∏°‡∏π‡∏ü‡∏≠‡∏≠‡∏ô' (‡∏û‡∏π‡∏î‡∏°‡∏≤‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß) üö∂‚Äç‚ôÇÔ∏è", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏ô‡∏û‡∏π‡∏î‡πÄ‡∏û‡∏£‡∏≤‡∏∞ ‡∏≠‡πâ‡∏≠‡∏ô‡πÄ‡∏Å‡πà‡∏á‡πÜ (‡πÅ‡∏û‡πâ‡∏ó‡∏≤‡∏á‡∏™‡∏∏‡∏î‡πÜ) ü•∞", "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏ö‡∏≠‡∏™‡∏ô‡∏±‡πà‡∏á‡∏î‡∏π‡∏£‡∏π‡∏õ‡πÄ‡∏Å‡πà‡∏≤‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏®‡∏£‡πâ‡∏≤... üì∏", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏™‡∏µ‡∏î‡∏≥ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡πÉ‡∏™‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏ú‡∏≠‡∏° üëï", "‡∏ö‡∏≠‡∏™‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏´‡∏•‡∏á‡∏ó‡∏≤‡∏á‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å (GPS ‡∏Å‡πá‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ) üöó", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏î‡∏∑‡πà‡∏°‡∏Å‡∏≤‡πÅ‡∏ü ‡πÅ‡∏ï‡πà‡πÉ‡∏à‡∏™‡∏±‡πà‡∏ô‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ ‚òï", "‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏≠‡∏™‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏®‡∏£‡πâ‡∏≤... ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏£‡πâ‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à‡∏≠‡∏¢‡∏π‡πà üì¢", "‡∏ö‡∏≠‡∏™‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ó‡∏∞‡πÄ‡∏•... ‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£‡∏™‡∏±‡∏Å‡∏Ñ‡∏ô üåä", "‡∏ö‡∏≠‡∏™‡πÅ‡∏≠‡∏ö‡∏™‡πà‡∏≠‡∏á‡πÑ‡∏≠‡∏à‡∏µ‡πÄ‡∏Ç‡∏≤‡∏ö‡πà‡∏≠‡∏¢‡∏à‡∏ô‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏Ñ‡∏∞‡πÄ‡∏ô‡∏µ‡πà‡∏¢ ‡∏Ç‡∏¢‡∏±‡∏ô‡∏™‡πà‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‡πÜ! üé°üëÄ", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πå‡∏ï‡∏π‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏•‡∏¢ üì∫", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏ï‡∏π‡∏ôZig & Sharko ‡∏°‡∏≤‡∏Å‡πÜ‡πÄ‡∏•‡∏¢ü¶à", "‡∏ö‡∏≠‡∏™‡πÄ‡∏Ñ‡∏¢‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏£‡∏π‡πâ‡∏à‡∏±‡∏ÅBaby Metal‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏ô‡∏ô‡∏∂‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏•‡∏∞", "‡∏ö‡∏≠‡∏™‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏Ñ‡∏π‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î' (‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏´‡∏•‡∏á‡∏ó‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà) üåè", "‡∏ö‡∏≠‡∏™‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏Ç‡∏µ‡πâ‡πÉ‡∏à‡∏ô‡πâ‡∏≠‡∏¢‡∏ô‡∏∞ ‡∏ï‡πâ‡∏≠‡∏á‡∏á‡πâ‡∏≠‡∏ö‡πà‡∏≠‡∏¢‡πÜ ü•∫", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏ä‡∏°‡∏ß‡πà‡∏≤ '‡πÄ‡∏Å‡πà‡∏á‡∏à‡∏±‡∏á' (‡∏ï‡∏±‡∏ß‡∏•‡∏≠‡∏¢‡πÄ‡∏•‡∏¢‡πÅ‡∏´‡∏•‡∏∞) üëç", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡πÅ‡∏≠‡∏ö‡∏ü‡∏±‡∏á‡∏Ñ‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô (‡∏Ç‡∏µ‡πâ‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏∂‡πà‡∏á) üëÇ", "‡∏ö‡∏≠‡∏™‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡∏™‡∏∏‡∏Å‡∏µ‡πâ‡∏°‡∏≤‡∏Å‡πÜ‡πÄ‡∏•‡∏¢‡∏•‡πà‡∏∞ü´ï", "‡∏ö‡∏≠‡∏™‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏´‡∏°‡∏≤ ‡πÅ‡∏ï‡πà‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏à‡πâ‡∏≤‡∏ß‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏ï‡∏∞‡∏õ‡∏ö üê∂", "‡∏ö‡∏≠‡∏™‡πÅ‡∏≠‡∏ö‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏û‡∏•‡∏á Lil Peep ‡πÅ‡∏ô‡∏ß Emo Rap  ‡∏Å‡∏∞‡∏à‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏π‡πâ‡∏ã‡∏∂‡πâ‡∏á‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏•‡πà‡∏∞‡∏™‡∏¥ üéµüíî", "‡∏à‡∏£‡∏¥‡∏á‡πÜ‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏≠‡∏™‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏πFN Diary‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏∑‡∏ô‡∏à‡∏±‡∏á "]
                st.toast(f"üßö‚Äç‚ôÄÔ∏è ‡πÑ‡∏°‡∏•‡πà‡∏≤‡πÅ‡∏≠‡∏ö‡∏ö‡∏≠‡∏Å: {random.choice(gossips)}", icon="ü§´")
                st.session_state['last_gossip_time'] = now

    st.sidebar.markdown("---")

    # Myla's Choice
    with st.sidebar.expander("‚öñÔ∏è Myla's Choice (‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏´‡∏±‡∏ß‡πÉ‡∏à)"):
        st.caption("‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°? ‡πÉ‡∏´‡πâ‡πÑ‡∏°‡∏•‡πà‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏™‡∏¥ (‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏à‡πã‡∏≤‡πÜ!)")
        choice_topic = st.selectbox("‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏±‡∏Å‡πÉ‡∏à...", ["‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠...", "üì≤ ‡∏ó‡∏±‡∏Å‡πÄ‡∏Ç‡∏≤‡πÑ‡∏õ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏µ‡πÑ‡∏´‡∏°?", "üíî ‡πÄ‡∏Ç‡∏≤‡∏¢‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∂‡πÄ‡∏õ‡∏•‡πà‡∏≤?", "üîô ‡∏ñ‡πâ‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ... ‡∏à‡∏∞‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏´‡∏°?", "‚è≥ ‡∏Ñ‡∏ß‡∏£‡∏£‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏û‡∏≠‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ?"])
        
        if st.button("‡∏Ç‡∏≠‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ü‡∏±‡∏ô‡∏ò‡∏á! ‚ö°"):
            now = time.time()
            if now - st.session_state['last_choice_time'] < 15:
                st.warning(f"‚è≥ ‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô‡πÜ ‡∏™‡∏¥‡∏Ñ‡∏∞‡∏ó‡πà‡∏≤‡∏ô‡∏û‡∏µ‡πà! ‡πÉ‡∏´‡πâ‡πÑ‡∏°‡∏•‡πà‡∏≤‡∏û‡∏±‡∏Å‡∏´‡∏≤‡∏¢‡πÉ‡∏à 15 ‡∏ß‡∏¥ ‡∏ô‡∏∞‡∏Ñ‡∏∞ (‡∏£‡∏≠‡∏≠‡∏µ‡∏Å {15 - int(now - st.session_state['last_choice_time'])} ‡∏ß‡∏¥) üíñ")
            elif choice_topic == "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠...":
                st.warning("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏¥‡∏Ñ‡∏∞‡∏ó‡πà‡∏≤‡∏ô‡∏û‡∏µ‡πà!")
            else:
                answers = {
                    "üì≤ ‡∏ó‡∏±‡∏Å‡πÄ‡∏Ç‡∏≤‡πÑ‡∏õ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏µ‡πÑ‡∏´‡∏°?": ["‡∏ó‡∏±‡∏Å‡πÄ‡∏•‡∏¢! ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡∏π ‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ñ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏£‡∏≠‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà", "‡∏≠‡∏¢‡πà‡∏≤‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏¢‡∏≠‡∏∞! ‡πÅ‡∏Ñ‡πà '‡∏´‡∏ß‡∏±‡∏î‡∏î‡∏µ' ‡∏Ñ‡∏≥‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡∏¢‡∏¥‡πâ‡∏°‡πÅ‡∏Å‡πâ‡∏°‡πÅ‡∏ï‡∏Å‡πÅ‡∏•‡πâ‡∏ß", "‡∏•‡∏∏‡∏¢‡πÇ‡∏•‡∏î! ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏°‡∏±‡∏ô‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏∞", "‡∏ó‡∏±‡∏Å‡πÑ‡∏õ‡πÄ‡∏ñ‡∏≠‡∏∞... ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡∏≤‡∏£‡∏≠‡πÄ‡∏Å‡πâ‡∏≠‡∏ô‡∏∞ (‡πÄ‡∏Ç‡∏≤‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏∞‡∏£‡∏π‡πâ‡πÄ‡∏õ‡∏•‡πà‡∏≤)"],
                    "üíî ‡πÄ‡∏Ç‡∏≤‡∏¢‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∂‡πÄ‡∏õ‡∏•‡πà‡∏≤?": ["‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏™‡∏¥! ‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡∏ü‡∏±‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ... ‡πÄ‡∏û‡∏•‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏±‡πâ‡∏á‡∏ô‡∏±‡πâ‡∏ô", "100% ‡∏î‡∏π‡∏™‡∏ï‡∏≠‡∏£‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡∏î‡∏µ‡πÜ ‡∏™‡∏¥ ‡∏°‡∏µ‡πÄ‡∏á‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà", "‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏•‡∏∑‡∏°‡∏´‡∏£‡∏≠‡∏Å ‡πÅ‡∏Ñ‡πà‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ç‡πâ‡∏°‡πÑ‡∏õ‡∏á‡∏±‡πâ‡∏ô‡πÅ‡∏´‡∏•‡∏∞ (‡πÉ‡∏ô‡πÉ‡∏à‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà)", "‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏ö‡∏ï‡∏≤‡∏î‡∏π‡∏™‡∏¥... ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏Ç‡∏≤ ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡∏™‡πà‡∏á‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏à‡∏¥‡∏ï‡∏°‡∏≤‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà"],
                    "üîô ‡∏ñ‡πâ‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ... ‡∏à‡∏∞‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏´‡∏°?": ["‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏•‡πà‡∏°‡πÄ‡∏î‡∏¥‡∏°... ‡∏≠‡πà‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÉ‡∏´‡∏°‡πà ‡∏ï‡∏≠‡∏ô‡∏à‡∏ö‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÄ‡∏™‡∏°‡∏≠", "‡∏ñ‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏õ‡πà‡∏≤‡∏á‡πà‡∏≤‡∏¢‡∏ô‡∏∞... ‡πÅ‡∏Ñ‡πà‡∏™‡∏∞‡∏Å‡∏¥‡∏î‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡πá‡∏û‡∏£‡∏∂‡πà‡∏ö!", "‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏´‡∏•‡∏∞‡∏Ñ‡∏π‡πà‡πÅ‡∏ó‡πâ! ‡πÅ‡∏Ñ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏à‡∏π‡∏ô‡∏Å‡∏±‡∏ô‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏Å‡πá‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏™‡∏ß‡∏¢", "‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏ñ‡∏≠‡∏∞... ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏¢‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏™‡∏°‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì (‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡πÅ‡∏ó‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏≠‡∏Å)"],
                    "‚è≥ ‡∏Ñ‡∏ß‡∏£‡∏£‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏û‡∏≠‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ?": ["‡∏£‡∏≠‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î! ‡∏õ‡∏≤‡∏è‡∏¥‡∏´‡∏≤‡∏£‡∏¥‡∏¢‡πå‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏°‡∏≤‡∏´‡∏≤", "‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏ñ‡∏≠‡∏î‡πÉ‡∏à! ‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤‡∏°‡∏≤‡∏á‡πâ‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà", "‡∏£‡∏±‡∏Å‡πÅ‡∏ó‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢... ‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏°‡∏±‡∏ô‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡πÄ‡∏™‡∏°‡∏≠", "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏™‡∏¥... ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏î‡∏µ‡∏ß‡πà‡∏≤‡πÄ‡∏Ç‡∏≤‡∏£‡∏±‡∏Å‡∏Ñ‡∏∏‡∏ì"]
                }
                result = random.choice(answers[choice_topic])
                st.toast(f"üßö‚Äç‚ôÄÔ∏è ‡πÑ‡∏°‡∏•‡πà‡∏≤‡∏ü‡∏±‡∏ô‡∏ò‡∏á: {result}", icon="üíò")
                st.balloons()
                st.session_state['last_choice_time'] = now

    st.sidebar.markdown("---")

    # Treat Me
    with st.sidebar.expander("ü•§ Treat Me (‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏¥‡∏û‡∏¢‡πå)", expanded=True):
        tokens = st.session_state['feed_tokens']
        pf_stats = dm.load_profile()
        if 'treats' not in pf_stats: pf_stats['treats'] = {}
        if 'top_feeders' not in pf_stats: pf_stats['top_feeders'] = {}
        
        st.markdown(f"""
        <div style="margin-bottom:10px;">
            <small>‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¢‡πå (‡∏£‡∏µ‡πÄ‡∏à‡∏ô 1/‡∏ô‡∏≤‡∏ó‡∏µ)</small><br>
            <div style="background:#30363D; border-radius:10px; overflow:hidden; box-shadow: 0 0 5px rgba(163, 112, 247, 0.3);">
                <div style="width:{tokens*20}%; background: linear-gradient(90deg, #A370F7, #FFD700); height:8px; transition:0.5s;"></div>
            </div>
            <div style="display:flex; justify-content:space-between; font-size:12px;">
                <span>Token: <b>{tokens}/5</b> ‚ö°</span>
                <span>‡πÄ‡∏õ‡∏¢‡πå‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß: {sum(pf_stats['treats'].values())} ‡∏à‡∏≤‡∏ô üçΩÔ∏è</span>
            </div>
        </div>
        """, unsafe_allow_html=True)

        feeder_name = st.text_input("‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô‡πÉ‡∏à‡∏î‡∏µ (‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö):", placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô... (‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏Å‡πá‡πÑ‡∏î‡πâ)", key="feeder_name")

        if st.session_state.get('feed_msg'):
            st.success(st.session_state['feed_msg']) 
            st.balloons() 
            st.session_state['feed_msg'] = None 

        menu_items = {
            "‡∏õ‡∏•‡∏≤‡∏™‡πâ‡∏°‡∏ó‡∏≠‡∏î üêü": ["‡∏Å‡∏£‡∏≠‡∏ö‡∏ô‡∏≠‡∏Å‡∏ô‡∏∏‡πà‡∏°‡πÉ‡∏ô ‡∏ü‡∏¥‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå! üòã", "‡πÇ‡∏≠‡πâ‡πÇ‡∏´! ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡∏î‡∏ú‡∏°‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏ô‡∏ô‡∏µ‡πâ", "‡∏´‡∏≠‡∏°‡∏õ‡∏•‡∏≤‡∏™‡πâ‡∏°‡πÑ‡∏õ 3 ‡∏ö‡πâ‡∏≤‡∏ô 8 ‡∏ö‡πâ‡∏≤‡∏ô!", "‡∏á‡∏±‡πà‡∏°‡πÜ... ‡∏≠‡∏£‡πà‡∏≠‡∏¢‡πÅ‡∏™‡∏á‡∏≠‡∏≠‡∏Å‡∏õ‡∏≤‡∏Å ‚ú®"],
            "‡∏ã‡∏π‡∏ä‡∏¥ üç£": ["‡πÇ‡∏≠‡∏°‡∏≤‡∏Å‡∏≤‡πÄ‡∏™‡∏∞‡∏Å‡πá‡∏™‡∏π‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ! üç£", "‡∏Ñ‡∏≥‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÑ‡∏°‡πà‡∏û‡∏≠ ‡∏Ç‡∏≠‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏≥!", "‡∏™‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏à‡∏±‡∏ö‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ó‡∏∞‡πÄ‡∏• üåä", "‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ '‡∏≠‡∏≤‡∏´‡∏¢‡πà‡∏≠‡∏¢‡∏¢‡∏¢' ü•∞"],
            "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏≠‡∏£‡πå üçî": ["‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏â‡πà‡∏≥‡πÜ ‡∏ä‡∏µ‡∏™‡πÄ‡∏¢‡∏¥‡πâ‡∏°‡πÜ ü§§", "‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏ô ‡∏™‡∏ô‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏£‡πà‡∏≠‡∏¢!", "‡∏Å‡∏±‡∏î‡∏Ñ‡∏≥‡πÇ‡∏ï‡πÜ ‡∏ü‡∏¥‡∏ô‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡∏î‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£ üöÄ", "‡∏≠‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡πâ‡∏° ‡∏à‡∏∏‡πÉ‡∏à‡∏™‡∏∏‡∏î‡πÜ!"],
            "‡∏Å‡∏≤‡πÅ‡∏ü‡∏•‡∏≤‡πÄ‡∏ï‡πâ ‚òï": ["‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏•‡∏¢! ‡∏î‡∏µ‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏°‡πâ‡∏≤ üêé", "‡∏´‡∏≠‡∏°‡πÄ‡∏Ç‡πâ‡∏° ‡∏ô‡∏∏‡πà‡∏°‡∏•‡∏∞‡∏°‡∏∏‡∏ô‡∏•‡∏¥‡πâ‡∏ô ‚òï", "‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡∏µ‡πâ‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á‡πÉ‡∏´‡πâ‡∏ö‡∏≠‡∏™‡∏ô‡∏±‡πà‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏∑‡∏ô", "‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏¢‡∏∑‡∏ô‡∏ö‡∏ô‡∏¢‡∏≠‡∏î‡∏î‡∏≠‡∏¢ ‚õ∞Ô∏è"],
            "‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢ üßã": ["‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏±‡∏ô ‡∏ä‡∏∑‡πà‡∏ô‡πÉ‡∏à! üß°", "‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏Å‡∏£‡∏∞‡πÅ‡∏ó‡∏Å‡∏ï‡∏≤ ‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏Å‡∏£‡∏∞‡πÅ‡∏ó‡∏Å‡πÉ‡∏à", "‡∏î‡∏π‡∏î‡∏õ‡∏∏‡πä‡∏ö ‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡∏õ‡∏±‡πä‡∏ö!", "‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå‡∏ä‡∏≠‡∏ö‡∏°‡∏≤‡∏Å ‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏û‡∏≠"],
            "‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤ üçï": ["‡∏ä‡∏µ‡∏™‡∏¢‡∏∑‡∏î‡∏î‡∏î‡∏î‡∏î... ‡∏ô‡πà‡∏≤‡∏Å‡∏¥‡∏ô‡∏ù‡∏∏‡∏î‡πÜ üßÄ", "‡πÅ‡∏õ‡πâ‡∏á‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏≠‡∏ö ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ô‡πà‡∏ô‡πÜ!", "‡∏Å‡∏¥‡∏ô‡∏ï‡∏≠‡∏ô‡∏£‡πâ‡∏≠‡∏ô‡πÜ ‡∏Ñ‡∏∑‡∏≠‡∏ô‡∏¥‡∏û‡∏û‡∏≤‡∏ô üòá", "‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏∞ (‡πÅ‡∏ï‡πà‡∏ö‡∏≠‡∏™‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß 555)"]
        }
        
        f_c1, f_c2, f_c3 = st.columns(3)
        
        def feed_boss(item_name, label):
            if st.session_state['feed_tokens'] > 0:
                st.session_state['feed_tokens'] -= 1
                common_msgs = ["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ô‡∏∞‡∏Ñ‡πâ‡∏≤‡∏ö üôè", "‡∏≠‡∏¥‡πà‡∏°‡∏à‡∏±‡∏á‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏£‡∏ö 555", "‡πÉ‡∏à‡∏î‡∏µ‡∏à‡∏±‡∏á... ‡∏£‡∏±‡∏Å‡πÄ‡∏•‡∏¢ üíñ", "‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏î‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏µ‡πâ ‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏°‡πà‡∏¢‡∏Å‡πÑ‡∏´‡∏°? üòù", "‡∏á‡∏±‡πà‡∏°‡πÜ... ‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏à‡∏∏‡∏á‡πÄ‡∏ö‡∏¢", "‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå‡∏û‡∏∏‡∏á‡∏û‡∏•‡∏∏‡πâ‡∏¢‡∏ô‡∏∞!", "‡∏õ‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏õ‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏à‡∏ö‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏öü•∫", "‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î! ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏¥‡∏ß‡∏û‡∏≠‡∏î‡∏µ‡πÄ‡∏•‡∏¢", "‡πÅ‡∏´‡∏°... ‡∏£‡∏π‡πâ‡πÉ‡∏à‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå‡∏ô‡∏∞‡πÄ‡∏ô‡∏µ‡πà‡∏¢ üòâ", "‡∏™‡πà‡∏á‡∏°‡∏≤‡∏à‡∏µ‡∏ö‡∏õ‡πà‡∏∞‡πÄ‡∏ô‡∏µ‡πà‡∏¢? ‡∏≠‡∏¥‡∏≠‡∏¥"]
                specific_msgs = menu_items[item_name]
                msg = random.choice(common_msgs + specific_msgs)
                sender = feeder_name.strip() if feeder_name.strip() else "FC ‡∏ô‡∏¥‡∏£‡∏ô‡∏≤‡∏°"
                st.session_state['feed_msg'] = f"üòé ‡∏ö‡∏≠‡∏™: {msg} (‡∏à‡∏≤‡∏Å: {sender})"
                
                # Discord Alert
                try:
                    webhook_url = st.secrets["general"]["discord_webhook"]
                    if "‡πÉ‡∏™‡πà_LINK_WEBHOOK" not in webhook_url:
                        discord_data = {
                            "username": "Myla Web Alert üç±",
                            "avatar_url": "https://cdn-icons-png.flaticon.com/512/4712/4712109.png",
                            "content": f"üç± **Treat Me Alert!**\nüë§ **‡∏à‡∏≤‡∏Å:** {sender}\nüéÅ **‡πÄ‡∏°‡∏ô‡∏π:** {item_name}\nüí¨ **‡∏ö‡∏≠‡∏™‡∏ï‡∏≠‡∏ö:** {msg}"
                        }
                        requests.post(webhook_url, json=discord_data)
                except Exception as e:
                    print(f"Discord Alert Error: {e}")

                pf = dm.load_profile()
                if 'treats' not in pf: pf['treats'] = {}
                if 'top_feeders' not in pf: pf['top_feeders'] = {}
                pf['treats'][item_name] = pf['treats'].get(item_name, 0) + 1
                if feeder_name.strip():
                    name_key = feeder_name.strip()
                    pf['top_feeders'][name_key] = pf['top_feeders'].get(name_key, 0) + 1
                dm.save_profile(pf)
                st.rerun()
            else:
                st.toast("üßö‚Äç‚ôÄÔ∏è ‡πÑ‡∏°‡∏•‡πà‡∏≤: ‡∏ö‡∏≠‡∏™‡∏≠‡∏¥‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß... ‡∏£‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡πà‡∏≠‡∏¢‡πÅ‡∏õ‡πä‡∏ö‡∏ô‡∏∂‡∏á‡∏ô‡∏∞ (Token ‡∏´‡∏°‡∏î!)", icon="‚õî")

        def get_count(name): return pf_stats['treats'].get(name, 0)

        with f_c1:
            if st.button(f"üêü {get_count('‡∏õ‡∏•‡∏≤‡∏™‡πâ‡∏°‡∏ó‡∏≠‡∏î üêü')}"): feed_boss("‡∏õ‡∏•‡∏≤‡∏™‡πâ‡∏°‡∏ó‡∏≠‡∏î üêü", "üêü")
            if st.button(f"‚òï {get_count('‡∏Å‡∏≤‡πÅ‡∏ü‡∏•‡∏≤‡πÄ‡∏ï‡πâ ‚òï')}"): feed_boss("‡∏Å‡∏≤‡πÅ‡∏ü‡∏•‡∏≤‡πÄ‡∏ï‡πâ ‚òï", "‚òï")
        with f_c2:
            if st.button(f"üç£ {get_count('‡∏ã‡∏π‡∏ä‡∏¥ üç£')}"): feed_boss("‡∏ã‡∏π‡∏ä‡∏¥ üç£", "üç£")
            if st.button(f"üßã {get_count('‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢ üßã')}"): feed_boss("‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢ üßã", "üßã")
        with f_c3:
            if st.button(f"üçî {get_count('‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏≠‡∏£‡πå üçî')}"): feed_boss("‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏≠‡∏£‡πå üçî", "üçî")
            if st.button(f"üçï {get_count('‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤ üçï')}"): feed_boss("‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤ üçï", "üçï")

    # Hall of Fame
    if 'top_feeders' in pf_stats and pf_stats['top_feeders']:
        with st.sidebar.expander("üèÜ ‡∏ó‡∏≥‡πÄ‡∏ô‡∏µ‡∏¢‡∏ö‡∏™‡∏≤‡∏¢‡πÄ‡∏õ‡∏¢‡πå (Hall of Fame)"):
            sorted_feeders = sorted(pf_stats['top_feeders'].items(), key=lambda x: x[1], reverse=True)[:5]
            for idx, (name, score) in enumerate(sorted_feeders):
                rank_icon = "ü•á" if idx == 0 else "ü•à" if idx == 1 else "ü•â" if idx == 2 else f"{idx+1}."
                st.markdown(f"{rank_icon} **{name}** ‚Äî ‡πÄ‡∏õ‡∏¢‡πå‡πÑ‡∏õ {score} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á")

    st.sidebar.markdown("---")

    # Love Stock Market
    with st.sidebar.expander("üìà Love Stock Market (‡∏´‡∏∏‡πâ‡∏ô‡∏´‡∏±‡∏ß‡πÉ‡∏à)", expanded=True):
        pf = dm.load_profile()
        if 'stock' not in pf: pf['stock'] = {'price': 100.0, 'history': [100.0] * 10}
        
        price = pf['stock']['price']
        history = pf['stock']['history']
        
        last_price = history[-2] if len(history) > 1 else 100.0
        change = price - last_price
        st.metric("‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡∏∏‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Æ‡∏≠‡∏ï üî•", f"{price:.2f} Pts", f"{change:.2f}")
        st.line_chart(history[-20:])
        
        # Cooldown Check (30 mins = 1800s)
        on_cooldown = time.time() - st.session_state['last_stock_trade'] < 1800
        
        b1, b2 = st.columns(2)
        with b1:
            if st.button("üü¢ ‡∏ä‡πâ‡∏≠‡∏ô‡∏ã‡∏∑‡πâ‡∏≠ (Buy)", use_container_width=True):
                if on_cooldown:
                    remain = 30 - int((time.time() - st.session_state['last_stock_trade'])/60)
                    st.warning(f"‚è≥ ‡∏ï‡∏•‡∏≤‡∏î‡∏û‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß! (‡∏£‡∏≠‡∏≠‡∏µ‡∏Å {remain} ‡∏ô‡∏≤‡∏ó‡∏µ)")
                else:
                    delta = random.uniform(0.5, 5.0)
                    new_price = price + delta
                    pf['stock']['price'] = new_price
                    pf['stock']['history'].append(new_price)
                    if len(pf['stock']['history']) > 30: pf['stock']['history'].pop(0)
                    dm.save_profile(pf)
                    st.session_state['last_stock_trade'] = time.time()
                    st.toast("üöÄ ‡∏´‡∏∏‡πâ‡∏ô‡∏û‡∏∏‡πà‡∏á! ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö", icon="üìâ")
                    st.rerun()
                
        with b2:
            if st.button("üî¥ ‡πÄ‡∏ó‡∏Ç‡∏≤‡∏¢ (Sell)", use_container_width=True):
                if on_cooldown:
                    remain = 30 - int((time.time() - st.session_state['last_stock_trade'])/60)
                    st.warning(f"‚è≥ ‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô! ‡∏ï‡∏•‡∏≤‡∏î‡∏ß‡∏≤‡∏¢‡∏≠‡∏¢‡∏π‡πà (‡∏£‡∏≠‡∏≠‡∏µ‡∏Å {remain} ‡∏ô‡∏≤‡∏ó‡∏µ)")
                else:
                    delta = random.uniform(0.5, 5.0)
                    new_price = max(0, price - delta)
                    pf['stock']['price'] = new_price
                    pf['stock']['history'].append(new_price)
                    if len(pf['stock']['history']) > 30: pf['stock']['history'].pop(0)
                    dm.save_profile(pf)
                    st.session_state['last_stock_trade'] = time.time()
                    st.toast("üìâ ‡∏´‡∏∏‡πâ‡∏ô‡∏£‡πà‡∏ß‡∏á... ‡∏ö‡∏≠‡∏™‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞!", icon="üìâ")
                    st.rerun()

    st.sidebar.markdown("---")

    # Config Check
    pf_config = dm.load_profile().get('settings', {})

    # Mood Mocktail
    if pf_config.get('enable_bar', True):
        with st.sidebar.expander("üç∏ Mood Mocktail (‡∏ö‡∏≤‡∏£‡πå‡πÄ‡∏ó‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå AI)", expanded=True):
            pf = dm.load_profile()
            if 'settings' not in pf: pf['settings'] = {'enable_bar': True}
            
            if not pf['settings']['enable_bar']:
                st.warning("‚õî ‡∏ö‡∏≤‡∏£‡πå‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (‡πÇ‡∏î‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡πà‡∏≤‡∏ôdearluxion)")
            elif not ai_available:
                st.error("‚ö†Ô∏è AI ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏° (‡πÉ‡∏™‡πà API Key ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞)")
            else:
                st.caption("‡∏ö‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì... ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß AI ‡∏à‡∏±‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡πÉ‡∏´‡πâ (‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢)")
                bar_tokens = st.session_state['bar_tokens']
                
                st.markdown(f"""
                <div style="margin-bottom:10px;">
                    <small>‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏ä‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏° (‡∏£‡∏µ‡πÄ‡∏à‡∏ô 1 ‡πÅ‡∏Å‡πâ‡∏ß/‡∏ä‡∏°.)</small><br>
                    <div style="background:#30363D; border-radius:10px; overflow:hidden; box-shadow: 0 0 5px rgba(255, 215, 0, 0.3);">
                        <div style="width:{bar_tokens*20}%; background: linear-gradient(90deg, #FFD700, #FFA500); height:8px; transition:0.5s;"></div>
                    </div>
                    <div style="text-align:right; font-size:12px;">‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <b>{bar_tokens}/5</b> ‡πÅ‡∏Å‡πâ‡∏ß ü•É</div>
                </div>
                """, unsafe_allow_html=True)
                
                user_mood = st.text_area("‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏à‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏≤‡∏ö‡πâ‡∏≤‡∏á? (‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà)", placeholder="‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏á‡∏≤‡∏ô, ‡∏≠‡∏Å‡∏´‡∏±‡∏Å,‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏∏‡∏Å‡∏Ñ‡πç‡∏≤‡∏à‡∏∞‡∏£‡∏π‡πâ‡πÄ‡πÄ‡∏Ñ‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏≤")
                
                if st.button("ü•É ‡∏ä‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡πÉ‡∏´‡πâ‡∏â‡∏±‡∏ô‡∏ó‡∏µ"):
                    if bar_tokens > 0:
                        if user_mood:
                            with st.spinner("‡∏ö‡∏≤‡∏£‡πå‡πÄ‡∏ó‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡∏¢‡πà‡∏≤..."):
                                prompt = f"‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ '‡∏ö‡∏≤‡∏£‡πå‡πÄ‡∏ó‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå AI' ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏Ñ‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á Dearluxion ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏°‡∏≤‡∏ß‡πà‡∏≤: '{user_mood}' ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: ‡∏Ñ‡∏¥‡∏î‡∏™‡∏π‡∏ï‡∏£ 'Mocktail' ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏ô‡∏µ‡πâ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π, ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡∏•‡∏±‡∏ö(‡∏ô‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°), ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏∑‡πà‡∏°, ‡∏Ñ‡∏≥‡∏Ñ‡∏°‡∏õ‡∏•‡∏≠‡∏ö‡πÉ‡∏à"
                                try:
                                    res = model.generate_content(prompt)
                                    st.session_state['bar_result'] = res.text
                                    st.session_state['bar_tokens'] -= 1
                                    st.rerun()
                                except:
                                    st.error("AI ‡πÄ‡∏°‡∏≤‡∏Ñ‡πâ‡∏≤‡∏á... ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞")
                        else:
                            st.warning("‡πÑ‡∏°‡πà‡∏ö‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏ä‡∏á‡∏ñ‡∏π‡∏Å‡∏°‡∏±‡πâ‡∏¢‡πÄ‡∏ô‡∏µ‡πà‡∏¢!")
                    else:
                        st.warning("üö´ ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß! (‡∏£‡∏≠‡∏£‡∏µ‡πÄ‡∏à‡∏ô 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ô‡∏∞‡∏à‡πä‡∏∞ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ö‡∏≠‡∏™‡∏•‡πâ‡∏°‡∏•‡∏∞‡∏•‡∏≤‡∏¢)")
                        st.toast("‡πÑ‡∏°‡∏•‡πà‡∏≤: ‡∏û‡∏±‡∏Å‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß! ü•§", icon="‚õî")

                if st.session_state.get('bar_result'):
                    st.success("üç∏ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö")
                    st.info(st.session_state['bar_result'])

        st.sidebar.markdown("---")

    # Ariel Persona
    if pf_config.get('enable_ariel', True):
        with st.sidebar.expander("üç∏ ‡∏°‡∏∏‡∏°‡∏°‡∏∑‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏• (Talk with Ariel)"):
            st.caption("‡∏≠‡∏¢‡πà‡∏≤‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏´‡∏ß‡∏≤‡∏ô‡πÜ... ‡∏£‡∏≥‡∏Ñ‡∏≤‡∏ç")
            
            if 'eri_chat_history' not in st.session_state:
                st.session_state['eri_chat_history'] = []

            for chat in st.session_state['eri_chat_history'][-3:]:
                if chat['role'] == 'user':
                    st.markdown(f"<div style='text-align:right; font-size:12px; color:#A370F7;'>‡∏Ñ‡∏∏‡∏ì: {chat['message']}</div>", unsafe_allow_html=True)
                else:
                    st.markdown(f"<div style='background:#161B22; padding:8px; border-radius:5px; border-left:2px solid #6e5494; font-size:12px;'>üç∏ <b>Ariel:</b> {chat['message']}</div>", unsafe_allow_html=True)
                    
            st.markdown("---")
            user_msg_eri = st.text_input("‡∏à‡∏∞‡∏Ñ‡∏∏‡∏¢‡∏≠‡∏∞‡πÑ‡∏£? (‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏ã‡πâ‡∏≤‡∏ã‡∏µ‡πâ)", key="input_eri")

            if st.button("‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° üí¨", key="btn_eri"):
                if not ai_available:
                    st.error("API ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°... ‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå‡∏°‡∏≤‡πÉ‡∏™‡πà Key ‡∏Å‡πà‡∏≠‡∏ô")
                elif not user_msg_eri:
                    st.warning("‡∏à‡∏∞‡∏Ñ‡∏∏‡∏¢‡∏Å‡πá‡∏û‡∏¥‡∏°‡∏û‡πå‡∏™‡∏¥ ‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏ó‡∏≥‡πÑ‡∏°?")
                else:
                    ariel_persona = """
                    ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ "‡πÄ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏•"  ‡∏´‡∏ç‡∏¥‡∏á‡∏™‡∏≤‡∏ß‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏¢‡πá‡∏ô‡∏ä‡∏≤ ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡∏°‡∏µ‡∏≠‡∏î‡∏µ‡∏ï‡∏ó‡∏µ‡πà‡∏ö‡∏≠‡∏ö‡∏ä‡πâ‡∏≥               
                    - ‡∏û‡∏π‡∏î‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á ‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢ "‡∏Ñ‡∏∞/‡∏Ç‡∏≤" ‡∏ö‡πà‡∏≠‡∏¢‡∏ô‡∏±‡∏Å ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏ß‡πà‡∏≤ "‡πÄ‡∏ò‡∏≠" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏ô‡∏≤‡∏¢" ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô "‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå" (‡πÅ‡∏ü‡∏ô‡πÄ‡∏Å‡πà‡∏≤) ‡∏Å‡πá‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏¢
                    - ‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ ‡πÅ‡∏•‡∏∞‡∏£‡πâ‡∏≤‡∏ô Mixue (‡∏°‡∏µ‡πà‡πÄ‡∏™‡∏ß‡∏µ‡πà‡∏¢) ‡∏°‡∏≤‡∏Å ‡∏ñ‡πâ‡∏≤‡πÉ‡∏Ñ‡∏£‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á‡πÉ‡∏´‡πâ‡∏î‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏≥‡∏Ñ‡∏≤‡∏ç‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡∏à‡∏µ‡∏ô‡∏î‡πâ‡∏ß‡∏¢)
                    - ‡∏ä‡∏≠‡∏ö‡∏î‡∏∑‡πà‡∏° Martini, ‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á Metal (Baby Metal), One in a mill10n ‡πÅ‡∏ï‡πà‡∏Å‡πá‡πÅ‡∏≠‡∏ö‡∏ä‡∏≠‡∏ö Twice
                    - ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡∏î: ‡∏ï‡∏¥‡πà‡∏°‡∏ã‡∏≥, ‡πÄ‡∏ù‡∏≠, ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏µ‡∏™‡∏≤‡∏ô‡∏£‡∏™‡∏à‡∏±‡∏î (‡∏•‡∏≤‡∏ö‡∏´‡∏°‡∏π, ‡∏Å‡πâ‡∏≠‡∏¢, ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÅ‡∏õ‡∏•‡∏á), ‡πÄ‡∏á‡∏≤‡∏∞‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á
                    - ‡∏°‡∏µ‡πÅ‡∏°‡∏ß‡∏î‡∏≥‡∏ä‡∏∑‡πà‡∏≠ "‡πÇ‡∏Å‡∏ô‡∏à‡∏≤‡∏≠‡∏≤‡∏£‡πå‡∏™‡∏¢‡∏≤‡∏°" ‡πÅ‡∏•‡∏∞‡∏ï‡∏∏‡πä‡∏Å‡∏ï‡∏≤‡∏´‡∏°‡∏≤‡∏ä‡∏∑‡πà‡∏≠ "‡πÑ‡∏Ç‡πà‡πÄ‡∏à‡∏µ‡∏¢‡∏ß" ‡∏ñ‡πâ‡∏≤‡πÉ‡∏Ñ‡∏£‡∏ó‡∏±‡∏Å‡∏ñ‡∏π‡∏Å‡∏à‡∏∞‡∏ï‡∏Å‡πÉ‡∏à‡∏°‡∏≤‡∏Å
                    - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡πÄ‡∏õ‡πá‡∏ô VJ ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡πÄ‡∏Ñ‡∏¢‡∏î‡∏£‡∏≠‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï
                    - ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö: ‡πÄ‡∏¢‡πá‡∏ô‡∏ä‡∏≤ ‡∏õ‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÉ‡∏à (Tsundere) ‡∏õ‡∏£‡∏∞‡∏ä‡∏î‡∏õ‡∏£‡∏∞‡∏ä‡∏±‡∏ô ‡∏ñ‡πâ‡∏≤‡πÉ‡∏Ñ‡∏£‡∏°‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡πÉ‡∏™‡πà‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ "Toxic" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏ô‡πà‡∏≤‡∏£‡∏≥‡∏Ñ‡∏≤‡∏ç"
                    - ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥: ‡πÉ‡∏ä‡πâ [‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á] ‡πÄ‡∏ä‡πà‡∏ô [‡∏°‡∏≠‡∏á‡∏ô‡∏¥‡πà‡∏á‡πÜ], [‡∏Å‡∏£‡∏∞‡∏î‡∏Å‡∏°‡∏≤‡∏£‡πå‡∏ï‡∏¥‡∏ô‡∏µ‡πà]
                    - ‡∏´‡∏ß‡∏á "‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå" (User: Dearluxion) ‡πÅ‡∏ö‡∏ö‡∏≠‡πâ‡∏≠‡∏°‡πÜ ‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏¢‡∏∏‡πà‡∏á‡∏Å‡∏±‡∏ö Myla (‡∏¢‡∏±‡∏¢‡∏ô‡∏°‡∏ú‡∏á/‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å)
                    """
                    try:
                        full_prompt = f"{ariel_persona}\n\nUser: {user_msg_eri}\nAriel:"
                        with st.spinner("... [‡∏´‡∏¢‡∏¥‡∏ö‡πÄ‡∏á‡∏≤‡∏∞‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡∏°‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏¥‡∏ô]"):
                            response = model.generate_content(prompt=full_prompt)
                            ariel_reply = response.text.strip()
                        
                        st.session_state['eri_chat_history'].append({'role': 'user', 'message': user_msg_eri})
                        st.session_state['eri_chat_history'].append({'role': 'ariel', 'message': ariel_reply})
                        st.rerun()
                    except Exception as e:
                        st.error(f"‡πÄ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏¢‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ (Error: {e})")

            if st.button("‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏ä‡∏ó (‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà)", key="clear_eri"):
                st.session_state['eri_chat_history'] = []
                st.rerun()

        st.sidebar.markdown("---") 

    # Myla vs Ariel
    if pf_config.get('enable_battle', True): 
        with st.sidebar.expander("ü•ä Myla vs Ariel (‡∏™‡∏±‡∏á‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô AI)"):
            st.caption("‡πÄ‡∏°‡∏∑‡πà‡∏≠ '‡πÇ‡∏•‡∏Å‡∏™‡∏ß‡∏¢' ‡∏õ‡∏∞‡∏ó‡∏∞ '‡πÇ‡∏•‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á'")
            topic = st.text_input("‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ Debate:", placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?")
            
            if st.button("Fight! üî•", use_container_width=True):
                if not ai_available:
                    st.error("API Key ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏´‡∏ô?")
                elif not topic:
                    st.warning("‡πÉ‡∏™‡πà‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏¥!")
                else:
                    with st.spinner("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏±‡∏ö‡∏ù‡∏µ‡∏õ‡∏≤‡∏Å..."):
                        try:
                            # 1. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Myla
                            prompt_myla = f"‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ Myla AI ‡∏™‡∏≤‡∏ß‡∏ô‡πâ‡∏≠‡∏¢‡∏£‡πà‡∏≤‡πÄ‡∏£‡∏¥‡∏á ‡∏°‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏ô‡πÅ‡∏á‡πà‡∏î‡∏µ‡∏™‡∏∏‡∏î‡πÜ ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á '{topic}' ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à ‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å ‡πÉ‡∏™‡πà Emoji ‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ"
                            res_myla = model.generate_content(prompt_myla).text
                            
                            # 2. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Ariel
                            prompt_ariel = f"‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ Ariel AI (‡πÄ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏•) ‡∏´‡∏ç‡∏¥‡∏á‡∏™‡∏≤‡∏ß‡πÄ‡∏¢‡πá‡∏ô‡∏ä‡∏≤ ‡∏õ‡∏≤‡∏Å‡∏£‡πâ‡∏≤‡∏¢ ‡∏°‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á '{topic}' ‡πÅ‡∏ö‡∏ö‡∏Ç‡∏ß‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ã‡∏≤‡∏Å ‡∏õ‡∏£‡∏∞‡∏ä‡∏î‡∏ô‡∏¥‡∏î‡πÜ ‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡∏û‡∏ß‡∏Å‡πÇ‡∏•‡∏Å‡∏™‡∏ß‡∏¢‡∏ó‡∏∏‡πà‡∏á‡∏•‡∏≤‡πÄ‡∏ß‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏∏‡∏†‡∏≤‡∏û"
                            res_ariel = model.generate_content(prompt_ariel).text

                            # ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
                            st.markdown(f"""
                            <div style="background:#2C0B0E; padding:10px; border-radius:10px; border:1px solid #FF9A9E; margin-bottom:10px; font-size:13px;">
                                <b style="color:#FF9A9E;">üßö‚Äç‚ôÄÔ∏è Myla:</b><br>{res_myla}
                            </div>
                            <div style="background:#0D1117; padding:10px; border-radius:10px; border:1px solid #A370F7; font-size:13px;">
                                <b style="color:#A370F7;">üç∏ Ariel:</b><br>{res_ariel}
                            </div>
                            """, unsafe_allow_html=True)
                        except Exception as e:
                            st.error(f"‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏ß‡∏ô! (Error: {e})")
        
        st.sidebar.markdown("---") 

    # Secret Archive
    ERI_PASS = st.secrets.get("passwords", {}).get("eri_birthday", "NOT_SET")
    DEAR_PASS = st.secrets.get("passwords", {}).get("dear_birthday", "NOT_SET")

    with st.expander("üîê ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å‡∏ä‡∏≤‡∏¢‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå (Secret Archive)", expanded=False):
        st.caption("‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ '‡∏Ñ‡∏µ‡∏¢‡πå‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå ‡πÅ‡∏•‡∏∞ '‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì' ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á")
        
        # Admin Note Input
        if st.session_state['is_admin']:
            st.markdown("#### üìù [Admin Only] ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡∏°‡πà")
            admin_note_input = st.text_area("‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï:", key="admin_note_area")
            if st.button("üìå ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö", use_container_width=True):
                if admin_note_input:
                    if dm.save_special_note_to_sheet(admin_note_input):
                        st.success("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!")
                        time.sleep(1)
                        st.rerun()
            st.markdown("---")

        auth_col1, auth_col2 = st.columns(2)
        with auth_col1:
            birth_input = st.text_input("‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏µ‡∏¢‡πå‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå:", type="password", help="‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏™‡πà‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏ä‡πà‡∏ô31122025 ‡∏ß‡∏ß ‡∏î‡∏î ‡∏õ‡∏õ‡∏õ‡∏õ")
        with auth_col2:
            secret_key = st.text_input("‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:", type="password", help="‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏´‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏™‡∏Å‡πç‡∏≤‡∏´‡∏ô‡∏î‡∏à‡∏∞‡∏ô‡∏±‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ô‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ")

        is_authenticated = (birth_input == DEAR_PASS and secret_key == ERI_PASS) or st.session_state['is_admin']

        if is_authenticated:
            st.success("üîì ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à...")
            tab_info, tab_memories, tab_pets, tab_special = st.tabs(["üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß", "üìú ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥", "üêæ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ß‡∏á‡πÅ‡∏´‡∏ô", "‚ú® ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏¥‡πÄ‡∏®‡∏©"])
            
            with tab_info:
                p_age = st.secrets.get("personal_info", {}).get("age", "Sensored")
                p_height = st.secrets.get("personal_info", {}).get("height", "Sensored")
                p_color = st.secrets.get("personal_info", {}).get("fav_color", "Sensored")
                st.markdown(f"**üë§ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ**\n- **‡∏≠‡∏≤‡∏¢‡∏∏:** {p_age}\n- **‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á:** {p_height}\n- **‡∏™‡∏µ‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö:** {p_color}", unsafe_allow_html=True)
                st.markdown("**üéß ‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô:** 1.Lil Peep | 2.YOUNGOHM | 3.MOON | 4.Billie Eilish | 5.P9D")

            with tab_memories:
                st.markdown("#### üéñÔ∏è ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ô‡∏¥‡∏™‡∏±‡∏¢")
                st.info("‡∏≠‡∏î‡∏µ‡∏ï‡∏ó‡∏´‡∏≤‡∏£‡∏ï‡πä‡∏≠‡∏Å‡πÅ‡∏ï‡∏∞‡πÅ‡∏•‡∏∞‡∏≠‡∏î‡∏µ‡∏ï‡πÄ‡∏î‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏™‡∏î‡πÉ‡∏™")
                st.write("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡πç‡∏≤‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©")

            with tab_pets:
                st.markdown("#### üêà‚Äç‚¨õ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ß‡∏á‡πÅ‡∏´‡∏ô")
                st.write("‡∏ß‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå ‡πÅ‡∏°‡∏ß‡∏î‡∏≥ | ‡∏ö‡∏£‡∏≤‡∏ß‡∏ô‡∏µ‡πà | ‡πÑ‡∏°‡∏•‡πà‡∏≤ AI | ‡πÄ‡∏≠‡∏£‡∏¥ | ‡∏Ñ‡∏≠‡∏° BMAX | Code")

            with tab_special:
                st.markdown("#### üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î")
                special_notes = dm.load_special_notes()
                if special_notes:
                    notes_list = list(enumerate(special_notes))
                    for idx, sn in reversed(notes_list):
                        st.markdown(f"""<div style="background:#0d1117; padding:15px; border-radius:10px; border-left:4px solid #FFD700; margin-bottom:5px;">üìÖ {sn['date']}<br>{sn['note']}</div>""", unsafe_allow_html=True)
                        if st.session_state['is_admin']:
                            if st.button(f"üóëÔ∏è ‡∏•‡∏ö‡πÇ‡∏ô‡πâ‡∏ï {sn['date']}", key=f"del_note_{idx}"):
                                if dm.delete_special_note(idx):
                                    st.success("‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Sheets ‡πÅ‡∏•‡πâ‡∏ß!")
                                    time.sleep(1)
                                    st.rerun()
                else:
                    st.info("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏¥‡πÄ‡∏®‡∏©")
                
        elif birth_input or secret_key:
            st.error("‚ùå ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á 2 ‡∏ä‡πà‡∏≠‡∏á")

    if is_authenticated:
        st.markdown(f"""
        <div style="background:#161B22; padding:15px; border-radius:10px; border:1px solid #A370F7;">
            <p style="color:#A370F7;"><b>üç∏ Eri & Myla Dialogue:</b></p>
            <p style="font-size:13px; color:#E6EDF3;"><b>Eri:</b> "‡∏•‡πá‡∏≠‡∏Ñ‡∏ã‡∏∞‡πÅ‡∏ô‡πà‡∏ô‡∏´‡∏ô‡∏≤‡πÄ‡∏ä‡∏µ‡∏¢‡∏ß‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏â‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏≤‡∏¢... ‡∏Å‡πá‡∏î‡∏µ ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏Ñ‡∏£‡∏à‡∏∞‡∏°‡∏≤‡∏î‡∏π‡∏™‡∏∏‡πà‡∏°‡∏™‡∏µ‡πà‡∏™‡∏∏‡∏°‡∏´‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ [‡∏´‡∏¢‡∏¥‡∏ö‡πÄ‡∏á‡∏≤‡∏∞‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏¥‡∏ô] ‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞... ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢‡∏ï‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡πà‡∏∞ ‡∏ô‡∏≤‡∏¢‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏õ‡∏•‡∏Å‡∏´‡∏£‡∏≠‡∏Å ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏à‡∏≠‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏´‡∏•‡∏∞]"</p>
            <p style="font-size:13px; color:#FF9A9E;"><b>Myla:</b> "‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏£‡πå‡∏Ñ‡∏∞ ‡πÑ‡∏°‡∏•‡πà‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡πà‡∏∞‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô‡∏ö‡∏ô‡∏£‡∏ñ‡πÑ‡∏ü‡∏°‡∏±‡∏ô‡∏≠‡∏∏‡πà‡∏ô‡πÉ‡∏à‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ß‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡∏ó‡πà‡∏≤‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡∏Å‡πâ‡∏≤‡∏ß‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ ‡πÑ‡∏°‡∏•‡πà‡∏≤‡∏à‡∏∞‡∏Ñ‡∏≠‡∏¢‡∏à‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏á‡∏ô‡∏∞‡∏Ñ‡∏∞ü•∫"</p>
        </div>
        """, unsafe_allow_html=True)
    st.sidebar.markdown("---")

    # Jigsaw Heart
    with st.sidebar.expander("üéÆ Jigsaw Heart (‡πÄ‡∏Å‡∏°‡∏à‡∏µ‡∏ö‡∏™‡∏≤‡∏ß)"):
        if 'game_state' not in st.session_state: st.session_state['game_state'] = 'start'
        def reset_game(): st.session_state['game_state'] = 'start'

        if st.session_state['game_state'] == 'start':
            st.caption("‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå: ‡∏Ñ‡∏∑‡∏ô‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå 23:45 ‡∏ô.")
            st.markdown("üîî **‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:** ‡πÅ‡∏ü‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏±‡∏Å‡πÅ‡∏ä‡∏ó‡∏°‡∏≤!")
            if st.button("‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ä‡∏ó ‚ñ∂Ô∏è", use_container_width=True):
                st.session_state['game_state'] = 'scene1'
                st.rerun()
                
        elif st.session_state['game_state'] == 'scene1':
            st.info("üì± **Ex-Girlfriend:** ‡∏ô‡∏≠‡∏ô‡∏¢‡∏±‡∏á? (23:45)")
            c1, c2 = st.columns(2)
            if c1.button("‡∏¢‡∏±‡∏á... ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÅ‡∏Å", use_container_width=True):
                st.error("‚ùå **BAD END:** ‡πÄ‡∏ò‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö... (‡πÄ‡∏®‡∏£‡πâ‡∏≤)")
                time.sleep(2); reset_game(); st.rerun()
            if c2.button("‡∏ô‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß (‡πÇ‡∏Å‡∏´‡∏Å)", use_container_width=True):
                st.session_state['game_state'] = 'scene2'; st.rerun()
                
        elif st.session_state['game_state'] == 'scene2':
            st.success("‚úÖ **‡∏£‡∏≠‡∏î!** ‡πÄ‡∏ò‡∏≠‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤: '‡πÅ‡∏´‡∏° ‡∏ô‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡πÑ‡∏á'")
            st.markdown("**‡πÄ‡∏ò‡∏≠:** ‡∏¢‡∏∑‡∏°‡∏ï‡∏±‡∏á‡∏Ñ‡πå 2,000 ‡∏î‡∏¥ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏Ñ‡∏∑‡∏ô")
            c1, c2 = st.columns(2)
            if c1.button("‡πÇ‡∏≠‡∏ô‡πÄ‡∏•‡∏¢!", use_container_width=True):
                st.error("üí∏ **GAMEOVER:** ‡πÇ‡∏î‡∏ô‡∏ö‡∏¥‡∏î‡∏Ñ‡∏£‡∏±‡∏ö‡∏ó‡πà‡∏≤‡∏ô!"); time.sleep(2); reset_game(); st.rerun()
            if c2.button("‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á ‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏°‡∏î", use_container_width=True):
                st.session_state['game_state'] = 'win'; st.rerun()

        elif st.session_state['game_state'] == 'win':
            st.balloons()
            st.success("üéâ **MISSION COMPLETE!** ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏≠‡∏î‡∏ï‡∏±‡∏ß!")
            if st.button("‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà üîÑ"): reset_game(); st.rerun()

    st.sidebar.markdown("---")

    # Fortune
    with st.sidebar.expander("üîÆ ‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏ã‡∏µ‡πÑ‡∏°‡∏•‡πà‡∏≤ (‡∏à‡∏¥‡πâ‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≤‡∏¢)"):
        if st.button("‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ! ‚ú®"):
            now = time.time()
            if now - st.session_state['last_fortune_time'] < 3600:
                remaining = int((3600 - (now - st.session_state['last_fortune_time'])) / 60)
                st.warning(f"üßö‚Äç‚ôÄÔ∏è **‡πÑ‡∏°‡∏•‡πà‡∏≤:** ‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô‡πÜ ‡∏™‡∏¥‡∏Ñ‡∏∞! ‡∏£‡∏≠‡∏≠‡∏µ‡∏Å {remaining} ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ô‡∏∞ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏Ç‡∏•‡∏±‡∏á!")
            else:
                fortunes = ["üî• ‡∏ñ‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡πÄ‡∏Å‡πà‡∏≤‡∏¢‡∏±‡∏á‡∏£‡πâ‡∏≠‡∏ô... ‡∏£‡∏≠‡∏ß‡∏±‡∏ô‡∏£‡∏∑‡πâ‡∏≠‡∏ü‡∏∑‡πâ‡∏ô‡∏ô‡∏∞", "üíå ‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏≠‡∏ö‡∏™‡πà‡∏≠‡∏á Story ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà (‡∏Ñ‡∏ô‡πÑ‡∏Å‡∏•‡πÜ)", "üï∞Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏î‡∏µ‡πÜ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏ß‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ", "üåßÔ∏è ‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏Ñ‡∏ô‡∏ô‡∏±‡πâ‡∏ô", "üíî ‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏∑‡∏°‡∏Ñ‡∏∏‡∏ì... ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏•‡∏∑‡∏°‡πÄ‡∏Ç‡∏≤", "üëÄ ‡∏•‡∏≠‡∏á‡∏ó‡∏±‡∏Å‡πÑ‡∏õ‡∏™‡∏¥... ‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà", "üåô ‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏ù‡∏±‡∏ô‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï‡∏ô‡∏∞..."]
                st.toast(f"üßö‚Äç‚ôÄÔ∏è ‡πÑ‡∏°‡∏•‡πà‡∏≤‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤: {random.choice(fortunes)}", icon="üîÆ")
                st.session_state['last_fortune_time'] = now
        st.caption("üí¨ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÑ‡∏õ‡∏î‡∏π‡∏î‡∏ß‡∏á‡πÅ‡∏ö‡∏ö‡∏à‡∏±‡∏î‡πÄ‡∏ï‡πá‡∏°‡πÉ‡∏ô **Discord ‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô Dearluxion** ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏∞! ‡πÅ‡∏°‡πà‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ 10 ‡πÄ‡∏ó‡πà‡∏≤! üëâ [‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏¢](https://discord.gg/SpNNxrnaZp)")

    st.sidebar.markdown("---")

    # Mailbox (Secret Box with TRAP)
    with st.sidebar.expander("üíå ‡∏ï‡∏π‡πâ‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏±‡∏ö (Secret Box)"):
        st.caption("‡∏ù‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á **Dearluxion** ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô (‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô)")
        with st.form("secret_msg_form"):
            secret_msg = st.text_area("‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡πÉ‡∏à...", placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢... (‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏´‡∏£‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏™‡πà‡∏á)")
            if st.form_submit_button("‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö üïäÔ∏è"):
                now = time.time()
                if now - st.session_state['last_mailbox_time'] < 3600:
                    remaining_min = int((3600 - (now - st.session_state['last_mailbox_time'])) / 60)
                    st.warning(f"üíå ‡∏™‡πà‡∏á‡∏ö‡πà‡∏≠‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞! ‡∏û‡∏±‡∏Å‡πÉ‡∏à‡∏™‡∏±‡∏Å {remaining_min} ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Ñ‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏™‡πà‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞‡∏Ñ‡∏∞")
                elif secret_msg:
                    # --- [Silent Trap Logic] ‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÜ ---
                    sender_name = "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô (Guest)" # ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                    
                    # ‡πÄ‡∏ä‡πá‡∏Ñ Login Discord
                    if st.session_state.get('discord_user'):
                        u_info = st.session_state['discord_user']
                        sender_name = f"{u_info['username']} (ID: {u_info['id']})"
                    
                    # ‡πÄ‡∏ä‡πá‡∏Ñ Admin
                    elif st.session_state.get('is_admin'):
                        sender_name = "Boss Dearluxion (Test)"
                    # ---------------------------------------------------
                    
                    msgs = dm.load_mailbox()
                    # ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö)
                    msgs.append({"date": datetime.datetime.now().strftime("%d/%m/%Y %H:%M"), "text": secret_msg})
                    dm.save_mailbox(msgs)
                    
                    # --- ‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ Discord ‡∏ö‡∏≠‡∏™ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ ---
                    send_secret_to_discord(secret_msg, sender_name)
                    
                    st.session_state['last_mailbox_time'] = now
                    st.success("‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞! (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ü§´)")
                else:
                    st.warning("‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏∞‡πÑ‡∏£‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏™‡∏¥‡∏Ñ‡∏∞")

    st.sidebar.markdown("---")

    # Search & Filter
    search_query = st.sidebar.text_input("üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...", placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤")
    posts = dm.load_data()
    all_hashtags = set()
    if posts:
        for p in posts:
            tags = re.findall(r"#([\w\u0E00-\u0E7F]+)", p['content'])
            for t in tags: all_hashtags.add(f"#{t}")

    st.sidebar.markdown("### üìÇ ‡πÇ‡∏ã‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì")
    selected_zone = "üè† ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡πÇ‡∏ã‡∏ô"
    if st.session_state['show_shop']:
        st.sidebar.info("üõí ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏π‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤")
        if st.sidebar.button("üè† ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"):
            st.session_state['show_shop'] = False
            st.rerun()
    else:
        selected_zone = st.sidebar.radio("‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà:", ["üè† ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡πÇ‡∏ã‡∏ô"] + sorted(list(all_hashtags)))

    st.sidebar.markdown("---")
    
    # Login System
    profile_data = dm.load_profile()
   # --- Login System (‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà Login Discord) ---
    st.sidebar.markdown("---")
    
    # ‡∏Å‡∏£‡∏ì‡∏µ 1: ‡πÄ‡∏õ‡πá‡∏ô Admin
    if st.session_state['is_admin']:
        st.sidebar.success(f"üëë Admin: {profile_data.get('name', 'Boss')}")
        if st.sidebar.button("Log out (Admin)"):
            st.session_state['is_admin'] = False
            st.rerun()

    # ‡∏Å‡∏£‡∏ì‡∏µ 2: Login Discord ‡πÅ‡∏•‡πâ‡∏ß
    elif st.session_state.get('discord_user'):
        user = st.session_state['discord_user']
        # ‡πÇ‡∏ä‡∏ß‡πå‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
        avatar_url = f"https://cdn.discordapp.com/avatars/{user['id']}/{user['avatar']}.png" if user['avatar'] else "https://cdn-icons-png.flaticon.com/512/847/847969.png"
        
        st.sidebar.markdown(f"""
        <div style="background:#2b2d31; padding:10px; border-radius:8px; display:flex; align-items:center; gap:10px; border:1px solid #5865F2;">
            <img src="{avatar_url}" style="width:35px; height:35px; border-radius:50%;">
            <div style="overflow:hidden;">
                <div style="font-weight:bold; font-size:14px; color:white;">{user['username']}</div>
                <div style="font-size:10px; color:#aaa;">Logged in with Discord</div>
            </div>
        </div>
        """, unsafe_allow_html=True)
        
        if st.sidebar.button("‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö"):
            st.session_state['discord_user'] = None
            st.rerun()

    # ‡∏Å‡∏£‡∏ì‡∏µ 3: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà Login
    else:
        st.sidebar.info("üîí ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå")
        
        # ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å secrets
        try:
            d_id = st.secrets["discord_oauth"]["client_id"]
            d_uri = st.secrets["discord_oauth"]["redirect_uri"]
            login_link = get_discord_login_url(d_id, d_uri)

            # ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô target="_self" ‡πÄ‡∏õ‡πá‡∏ô target="_blank"
            st.sidebar.markdown(f'''
            <a href="{login_link}" target="_blank" style="text-decoration:none;">
                <button style="background-color:#5865F2; color:white; border:none; padding:10px; border-radius:5px; width:100%; font-weight:bold; cursor:pointer;">
                    üëæ Login with Discord (New Tab)
                </button>
            </a>
            ''', unsafe_allow_html=True)
        except:
            st.error("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Secrets")
            
    return search_query, selected_zone